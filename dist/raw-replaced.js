/**
 * @preserve
 * Kontra.js v9.0.0
 */
let t,i,e=()=>{},s={};function h(t,i){s[t]=s[t]||[],s[t].push(i)}function r(t,...i){(s[t]||[]).map((t=>t(...i)))}let a={get:(t,i)=>"_proxy"==i||e};function o(){return i}function n(t){return 180*t/Math.PI}function l(t,i){return Math.atan2(i.y-t.y,i.x-t.x)}class d{constructor(t=0,i=0,e={}){null!=t.x?(this.x=t.x,this.y=t.y):(this.x=t,this.y=i)}set(t){this.x=t.x,this.y=t.y}add(t){return new d(this.x+t.x,this.y+t.y,this)}t(t){return new d(this.x-t.x,this.y-t.y,this)}scale(t){return new d(this.x*t,this.y*t)}normalize(t=this.length()||1){return new d(this.x/t,this.y/t)}i(t){return this.x*t.x+this.y*t.y}length(){return Math.hypot(this.x,this.y)}h(t){return Math.hypot(this.x-t.x,this.y-t.y)}angle(t){return Math.acos(this.i(t)/(this.length()*t.length()))}}function p(){return new d(...arguments)}class c{constructor(t){return this.init(t)}init(t={}){this.position=p(),this.o=p(),this.l=1/0,Object.assign(this,t)}update(t){this.advance(t)}advance(t){let i=this.o;t&&(i=i.scale(t)),this.position=this.position.add(i),this.p(),this.l--}get dx(){return this.o.x}get dy(){return this.o.y}set dx(t){this.o.x=t}set dy(t){this.o.y=t}u(){return this.l>0}p(){}}class u extends c{init({width:t=0,height:i=0,context:e=o(),m:s=this.g,update:r=this.advance,children:a=[],...n}={}){this.k=[],super.init({width:t,height:i,context:e,...n}),this.M=!0,this.$(),this.v(a),this.T=s,this.L=r,h("init",(()=>{this.context??(this.context=o())}))}update(t){this.L(t),this.children.map((i=>i.update&&i.update(t)))}m(){let t=this.context;t.save(),(this.x||this.y)&&t.translate(this.x,this.y),this.T(),this.children.map((t=>t.m&&t.m())),t.restore()}g(){}p(){this.$(),this.children.map((t=>t.p()))}get x(){return this.position.x}get y(){return this.position.y}set x(t){this.position.x=t,this.p()}set y(t){this.position.y=t,this.p()}get width(){return this._}set width(t){this._=t,this.p()}get height(){return this.A}set height(t){this.A=t,this.p()}$(){if(!this.M)return;let{D:t=0,P:i=0}=this.parent||{};this.D=this.x,this.P=this.y,this.S=this.width,this.B=this.height,this.D+=t,this.P+=i}get C(){return{x:this.D,y:this.P,width:this.S,height:this.B}}set children(t){this.removeChild(this.k),this.v(t)}get children(){return this.k}v(...t){t.flat().map((t=>{this.children.push(t),t.parent=this,t.p=t.p||e,t.p()}))}removeChild(...t){t.flat().map((t=>{(function(t,i){let e=t.indexOf(i);if(-1!=e)return t.splice(e,1),!0})(this.children,t)&&(t.parent=null,t.p())}))}}function f(t){let i=t.canvas;t.clearRect(0,0,i.width,i.height)}let x={},y={},m={},g={N:"enter",W:"esc",q:"space",O:"arrowleft",F:"arrowup",Z:"arrowright",j:"arrowdown"};function w(t=e,i){t.U&&i.preventDefault(),t(i)}function b(t){let i=g[t.code],e=x[i];m[i]=!0,w(e,t)}function k(t){let i=g[t.code],e=y[i];m[i]=!1,w(e,t)}function M(){m={}}let $="#8a5",v="#794",T="#b75",L="#dee",_="#abb",A="#f80",D="#000",P="#443",z="#e31",S="#0001",B="#0001",C="#0002",N="#f002",W=t=>document.createElementNS("http://www.w3.org/2000/svg",t),q=(t="div")=>document.createElement(t),O=q();O.style.overflow="hidden",O.style.position="absolute",O.style.width="100dvw",O.style.height="100dvh",O.style.backgroundColor=$,O.style.display="grid",O.style.placeItems="center",document.body.append(O);let F=q();F.style.position="absolute",F.style.width="100dvw",F.style.height="100dvh",F.style.background=`repeating-linear-gradient(-55deg,${S} 0 12px,#0000 0 24px)`,F.style.opacity=0,F.style.willChange="opacity",F.style.transition="opacity.3s";let Z=q();Z.style.position="absolute",Z.style.width="100dvw",Z.style.height="100dvh",Z.style.background="repeating-linear-gradient(-55deg, currentColor 0 12px,#0000 0 24px)",Z.style.color=N,Z.style.opacity=0,Z.style.willChange="opacity",Z.style.transition="opacity.3s",O.append(F,Z);let j=W("svg");j.style.position="relative",j.setAttribute("viewBox","0 0 208 112"),j.setAttribute("preserveAspectRatio","xMidYMid slice"),j.style.width="100dvw",j.style.height="100dvh",j.style.maxHeight="68dvw",j.style.maxWidth="200dvh",j.style.display="grid",j.style.touchAction="none",O.append(j);let U=W("rect"),Q=W("rect");W("rect");let R={R:(()=>{let t=W("rect");t.setAttribute("fill",$),t.setAttribute("width","160.5px"),t.setAttribute("height","80.5px"),t.setAttribute("transform","translate(23.75 15.75)"),j.append(t)})(),J:(()=>{let t=W("g");return j.append(t),t})(),Y:(()=>{let t=W("defs");j.append(t);let i=W("pattern");i.setAttribute("id","grid"),i.setAttribute("width",8),i.setAttribute("height",8),i.setAttribute("patternUnits","userSpaceOnUse"),t.append(i);let e=W("path");e.setAttribute("d","M8 0L0 0 0 8"),e.setAttribute("fill","none"),e.setAttribute("stroke",S),e.setAttribute("stroke-width",1),i.append(e),U.setAttribute("width","160.5px"),U.setAttribute("height","80.5px"),U.setAttribute("transform","translate(23.75 15.75)"),U.setAttribute("fill","url(#grid)"),U.style.opacity=0,U.style.willChange="opacity",U.style.transition="opacity.3s";let s=W("pattern");s.setAttribute("id","gridred"),s.setAttribute("width",8),s.setAttribute("height",8),s.setAttribute("patternUnits","userSpaceOnUse"),t.append(s);let h=W("path");h.setAttribute("d","M8 0L0 0 0 8"),h.setAttribute("fill","none"),h.setAttribute("stroke",N),h.setAttribute("stroke-width",1),s.append(h),Q.setAttribute("width","160.5px"),Q.setAttribute("height","80.5px"),Q.setAttribute("transform","translate(23.75 15.75)"),Q.setAttribute("fill","url(#gridred)"),Q.style.opacity=0,Q.style.willChange="opacity",Q.style.transition="opacity.3s",j.append(U,Q)})(),G:(()=>{let t=W("g");return t.setAttribute("fill","none"),j.append(t),t})(),baseLayer:(()=>{let t=W("g");return t.id="baseLayer",t.setAttribute("fill",v),j.append(t),t})(),K:(()=>{let t=W("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","none"),t.setAttribute("stroke",v),t.setAttribute("stroke-width",3),j.append(t),t})(),H:(()=>{let t=W("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","none"),t.setAttribute("stroke","#dca"),t.setAttribute("stroke-width",3),j.append(t),t})(),I:(()=>{let t=W("g");return t.setAttribute("opacity",.12),t.setAttribute("transform","translate(.3,.3)"),j.append(t),t})(),V:(()=>{let t=W("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","none"),t.setAttribute("stroke",D),t.setAttribute("opacity",.2),j.append(t),t})(),X:(()=>{let t=W("g");return t.setAttribute("stroke-linecap","round"),j.append(t),t})(),tt:(()=>{let t=W("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","none"),j.append(t),t})(),it:(()=>{let t=W("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","none"),t.setAttribute("stroke",D),t.setAttribute("opacity",.12),t.setAttribute("transform","translate(.5,.5)"),j.append(t),t})(),et:(()=>{let t=W("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","none"),j.append(t),t})(),st:(()=>{let t=W("g");return t.setAttribute("stroke-linecap","round"),t.setAttribute("fill","#fff"),j.append(t),t})(),ht:(()=>{let t=W("g");return t.setAttribute("stroke-linecap","round"),j.append(t),t})(),rt:(()=>{let t=W("rect");return t.setAttribute("width","160.5px"),t.setAttribute("height","80.5px"),t.setAttribute("transform","translate(23.5 15.5)"),t.setAttribute("fill","none"),t.setAttribute("stroke-width",0),t.style.cursor="cell",t.style.pointerEvents="all",j.append(t),t})()},{X:J,I:E,baseLayer:Y,et:G,it:K,G:H,Y:I,rt:V,H:X,K:tt,tt:it,ht:et,J:st,V:ht,st:rt}=R,at=()=>{J.innerHTML="",E.innerHTML="",Y.innerHTML="",G.innerHTML="",K.innerHTML="",H.innerHTML="",X.innerHTML="",tt.innerHTML="",it.innerHTML="",et.innerHTML="",st.innerHTML="",ht.innerHTML="",rt.innerHTML=""},ot=t=>4+8*t,nt=[],lt=[],dt=[],pt=[],ct=({ot:t,nt:i})=>{let e=nt;lt=[],e.forEach((t=>{e.forEach((i=>{t!=i&&(lt.find((e=>e.lt==i&&e.dt==t))||t.ct||i.ct||(t.ut[0].x==i.ut[0].x&&t.ut[0].y==i.ut[0].y?lt.push({lt:t,dt:i,ut:[t.ut[1],t.ut[0],i.ut[1]]}):t.ut[0].x==i.ut[1].x&&t.ut[0].y==i.ut[1].y?lt.push({lt:t,dt:i,ut:[t.ut[1],t.ut[0],i.ut[0]]}):t.ut[1].x==i.ut[0].x&&t.ut[1].y==i.ut[0].y?lt.push({lt:t,dt:i,ut:[t.ut[0],t.ut[1],i.ut[1]]}):t.ut[1].x==i.ut[1].x&&t.ut[1].y==i.ut[1].y&&lt.push({lt:t,dt:i,ut:[t.ut[0],t.ut[1],i.ut[0]]})))}))}));let s=[];lt.forEach((t=>{let{lt:i,dt:e,ut:h}=t,r=`M${ot(h[0].x)} ${ot(h[0].y)}`,a=ot(h[0].x+(h[1].x-h[0].x)/2),o=ot(h[0].y+(h[1].y-h[0].y)/2),n=`L${a} ${o}`,l=`L${ot(h[2].x)} ${ot(h[2].y)}`,d=`Q${ot(h[1].x)} ${ot(h[1].y)} ${ot(h[1].x+(h[2].x-h[1].x)/2)} ${ot(h[1].y+(h[2].y-h[1].y)/2)}`,p=lt.find((t=>h[0].x==t.ut[1].x&&h[0].y==t.ut[1].y))?`M${a} ${o}`:`${r}${n}`,c=lt.find((t=>h[2].x==t.ut[1].x&&h[2].y==t.ut[1].y))?"":l;s.push({lt:i,dt:e,d:`${p}${d}${c}`})})),e.forEach((t=>{if(!lt.find((i=>i.lt==t||i.dt==t))&&!t.ct){let{ut:i}=t,e=`${ot(i[0].x)} ${ot(i[0].y)}`,h=`${ot(i[1].x)} ${ot(i[1].y)}`;s.push({path:t,d:`M${e}L${h}`,ft:e,xt:h})}})),s.forEach((e=>{var h,r,a,o,n,l,d;if(dt.forEach((t=>{let i=e.path&&e.path==t.path,s=e.lt&&e.lt==t.lt,h=e.dt&&e.dt==t.dt;(i||s&&h)&&(e.yt=t.yt,e.gt=t.gt,e.d!=t.d&&(t.d=e.d,e.yt.setAttribute("d",e.d)))})),dt.forEach((i=>{s.find((t=>i.d==t.d))||i.path&&(t&&i.path&&i.path.ut[0].fixed?setTimeout((()=>{i.yt.remove()}),500):i.yt.remove())})),!e.yt){e.yt=W("path"),e.yt.setAttribute("d",e.d),e.yt.style.transition="all.4s, opacity.2s",((null==(h=e.path)?void 0:h.ut[0].wt)||(null==(r=e.path)?void 0:r.ut[1].wt)||(null==(a=e.lt)?void 0:a.ut[0].wt)||(null==(o=e.lt)?void 0:o.ut[1].wt)||(null==(n=e.dt)?void 0:n.ut[0].wt)||(null==(l=e.dt)?void 0:l.ut[1].wt))&&(e.yt.style.strokeDasharray="0 3px",e.yt.style.strokeWidth="2px",e.yt.style.stroke="#bbb",e.yt.style.filter=`drop-shadow(.3px .3px ${C})`),X.append(e.yt);let t=e.path&&pt.some((t=>t.x==e.path.ut[0].x&&t.y==e.path.ut[0].y||t.x==e.path.ut[1].x&&t.y==e.path.ut[1].y)),s=null==(d=e.path)?void 0:d.ut[0].fixed;null!=e.path&&t&&!s||(e.yt.setAttribute("stroke-width",0),e.yt.setAttribute("opacity",0),e.yt.style.willChange="stroke-width, opacity",s&&(e.yt.setAttribute("d",`M${e.ft}L${e.ft}`),setTimeout((()=>{e.yt.setAttribute("d",`M${e.ft}L${e.xt}`)}),20)),i||(e.gt=W("path"),e.gt.setAttribute("d",e.d),tt.append(e.gt),setTimeout((()=>{var t;null==(t=e.gt)||t.remove(),e.yt.style.willChange=""}),500)),setTimeout((()=>{e.yt.removeAttribute("stroke-width"),e.yt.setAttribute("opacity",1)}),20))}})),dt=[...s],pt=[]};class ut extends u{constructor(t){let{ut:i}=t;super({...t,ut:i}),nt.push(this)}remove(){dt=dt.filter((t=>t.path!=this&&t.lt!=this&&t.dt!=this||(t.yt.setAttribute("opacity",0),t.yt.setAttribute("stroke-width",0),setTimeout((()=>{t.yt.remove()}),500),!1))),nt.splice(nt.findIndex((t=>t==this)),1),pt.push({x:this.ut[0].x,y:this.ut[0].y},{x:this.ut[1].x,y:this.ut[1].y})}}let ft={bt:9},xt=(t,i)=>{let e=V.getBoundingClientRect().width/20;return{x:3+Math.floor(t/e),y:2+Math.floor(i/e)}},yt=(t,i)=>{let e=V.getBoundingClientRect().width/20;return{x:(3+t)*e,y:(2+i)*e}};class mt extends u{constructor(t){super({...t,width:t.width??1,height:t.height??1}),this.connections=t.connections}remove(){}}let gt=({from:t,to:i})=>{let e=(()=>{let t=[];for(let i=0;26>i;i++)for(let e=0;14>e;e++)t.push({x:i,y:e,kt:[]});return nt.forEach((i=>{t&&(t.find((t=>t.x==i.ut[0].x&&t.y==i.ut[0].y)).kt.push({x:i.ut[1].x,y:i.ut[1].y}),t.find((t=>t.x==i.ut[1].x&&t.y==i.ut[1].y)).kt.push({x:i.ut[0].x,y:i.ut[0].y}))})),t})(),s=e.find((i=>i.x==t.x&&i.y==t.y)),h=e.filter((t=>i.find((i=>t.x==i.x&&t.y==i.y))));return((t,i,e)=>{let s=[{node:i,path:[]}],h=[];for(;s.length;){let{node:i,path:r}=s.shift();if(null==i)return!1;if(e.find((t=>i.x==t.x&&i.y==t.y)))return r.concat(i);h.some((t=>t.x==i.x&&t.y==i.y))||(h.push(i),i.kt.forEach((e=>{h.some((t=>t.x==e.x&&t.y==e.y))||s.push({node:t.find((t=>t.x==e.x&&t.y==e.y)),path:r.concat(i)})})))}return null})(e,s,h)},wt=t=>t.map((t=>({value:t,sort:Math.random()}))).sort(((t,i)=>t.sort-i.sort)).map((({value:t})=>t)),bt=[];class kt extends u{constructor(t){super({...t});let i=2*Math.random()-1,e=2*Math.random()-1;this.Mt=this.$t.Mt,this.height=1,this.width=1,this.vt=!0,this.Tt=0,this.destination=null,this.x=4+8*this.$t.x+i,this.y=4+8*this.$t.y+e,bt.push(this)}Lt(){let{x:t}=this,{y:i}=this,e=W("path");e.setAttribute("d","M0 0 0 0"),e.setAttribute("transform",`translate(${t},${i})`),e.setAttribute("stroke",this.Mt),it.append(e),this.yt=e;let s=W("path");s.setAttribute("stroke-width",1.2),s.setAttribute("d","M0 0 .3 .3"),s.setAttribute("transform",`translate(${t},${i})`),ht.append(s),this._t=s}m(){if(!this.yt)return;let{x:t}=this,{y:i}=this;this.yt.setAttribute("transform",`translate(${t},${i})`),this._t.setAttribute("transform",`translate(${t},${i})`)}update(){var t,i;if(this.advance(),(this.vt||this.Tt)&&(this.dx*=.9,this.dy*=.9),this.Tt&&(this.Tt++,2==this.Tt&&this.At.Mt==A&&wt(this.At.children).forEach(((t,i)=>setTimeout((()=>t.Dt.style.fill=A),250*i))),this.Tt>80&&this.Pt.length>2||this.Tt>100)){this.At.Mt==A&&wt(this.At.children).forEach(((t,i)=>setTimeout((()=>t.Dt.style.fill=C),1e3+1e3*i)));let t=gt({from:{x:this.destination.x,y:this.destination.y},to:[{x:this.$t.x,y:this.$t.y}]});(null==t?void 0:t.length)&&(this.zt=!0,this.Tt=0,this.St=!0,this.destination=t.at(-1),this.Bt=t,this.Pt=[...t])}if(this.St&&this.destination&&(null==(t=this.Bt)?void 0:t.length)){let t=2*Math.random()-1,i=2*Math.random()-1,e=new p(4+8*this.Bt[0].x+t,4+8*this.Bt[0].y+i),s=2,h=1;if(1==this.Bt.length){if(Math.abs(this.x-e.x)<h&&Math.abs(this.y-e.y)<h)return this.zt?(this.zt=!1,this.vt=!0):(this.Tt=1,this.At.Ct-=this.At.Nt,this.At.Wt.splice(this.At.Wt.indexOf(this),1)),void(this.St=!1)}else if(Math.abs(this.x-e.x)<s&&Math.abs(this.y-e.y)<s)return void this.Bt.shift();for(;this.o.length()>.1;)this.dx*=.98,this.dy*=.98;let r=.006,a=.01,o=this.position.t(e).normalize();this.x<e.x+r&&(this.dx-=o.x*a),this.x>e.x-r&&(this.dx-=o.x*a),this.y<e.y+r&&(this.dy-=o.y*a),this.y>e.y-r&&(this.dy-=o.y*a)}(null==(i=this.Bt)?void 0:i.length)>0&&bt.filter((t=>t!=this&&!t.vt)).forEach((t=>{let i=t.position.h(this.position),e=t.position.h(this.position.add(this.o));if(i>e&&1.5>e){let i=this.position.t(t.position).normalize(),e=(h=Math.PI/2,new p({x:(s=i).x*Math.cos(h)-1*s.y,y:1*s.x-s.y*Math.cos(h)})).scale(.1);this.o.set(((t,i)=>{let e=t.length(),s=t.add(i),h=s.length();return s.scale(e/h)})(this.o,e))}var s,h;let r=t.position.h(this.position.add(this.o));6>e&&this.o.length()>.06&&(i>r?1.5>e?(this.dx*=.86,this.dy*=.86):(this.dx*=.89,this.dy*=.89):(this.dx*=.9,this.dy*=.9))}))}}let Mt=[];class $t extends mt{constructor(t){let{x:i,y:e}=t;super(t),this.ut=[{x:this.x,y:this.y}],setTimeout((()=>{this.qt=new ut({ut:[{x:i,y:e,fixed:!0},{x:i+this.Ot.x,y:e+this.Ot.y}]}),ct({Ft:[{x:i,y:e,fixed:!0},{x:i+this.Ot.x,y:e+this.Ot.y}],nt:!0})}),1e3),setTimeout((()=>{this.children.push(new kt({x:this.x,y:this.y,$t:this})),this.children.push(new kt({x:this.x,y:this.y,$t:this})),this.children.forEach((t=>t.Lt()))}),2e3),Mt.push(this),this.Lt()}Zt(t,i){this.Ot={x:t-this.x,y:i-this.y},dt.filter((t=>t.path==this.qt||t.lt==this.qt||t.dt==this.qt)).forEach((t=>{t.yt.setAttribute("stroke-width",0),t.yt.setAttribute("opacity",0),setTimeout((()=>{t.yt.remove()}),500)})),this.qt&&(this.jt=this.qt,this.jt.ct=!0),this.qt=new ut({ut:[{x:this.x,y:this.y,fixed:!0},{x:t,y:i}]}),ct({Ft:[{x:this.x,y:this.y,fixed:!0},{x:t,y:i}],ot:!0}),setTimeout((()=>{var t;null==(t=this.jt)||t.remove()}),400)}Lt(){let t=4+8*this.x,i=4+8*this.y,e=W("circle");e.setAttribute("fill",B),e.setAttribute("r",0),e.setAttribute("stroke","none"),e.setAttribute("transform",`translate(${t},${i})`),e.style.willChange="r, opacity",e.style.opacity=0,e.style.transition="all.4s",Y.append(e),setTimeout((()=>{e.setAttribute("r",3),e.style.opacity=1}),100),setTimeout((()=>e.style.willChange=""),600),this.Ut=W("g"),this.Ut.style.transform=`translate(${t}px,${i}px)`,rt.append(this.Ut),this.Qt=W("circle"),this.Qt.style.transition="r.4s",this.Qt.style.willChange="r",setTimeout((()=>this.Qt.setAttribute("r",3)),400),setTimeout((()=>this.Qt.style.willChange=""),900),this.Rt=W("path"),this.Rt.setAttribute("d","M0 0 0 0"),this.Rt.setAttribute("stroke-width",6),this.Rt.style.transform=`translate(${t}px,${i}px)`,this.Rt.style.opacity=0,this.Rt.style.willChange="d",this.Rt.style.transition="d.6s",ht.append(this.Rt),setTimeout((()=>this.Rt.style.opacity=.8),800),setTimeout((()=>this.Rt.setAttribute("d","M0 0 2 2")),900),setTimeout((()=>this.Rt.style.willChange=""),1600),this.Jt=W("circle"),this.Jt.setAttribute("fill","none"),this.Jt.setAttribute("r",1),this.Jt.setAttribute("stroke-dasharray",6.3),this.Jt.setAttribute("stroke-dashoffset",6.3),this.Jt.setAttribute("stroke",this.Mt),this.Jt.style.willChange="stroke-dashoffset",this.Jt.style.transition="stroke-dashoffset .5s",this.Ut.append(this.Qt,this.Jt),setTimeout((()=>this.Jt.setAttribute("stroke-dashoffset",0)),700),setTimeout((()=>this.Jt.style.willChange=""),1300)}Et(){let t=4+8*this.x,i=4+8*this.y;this.Rt.style.transition="transform.2s d.3s",this.Rt.setAttribute("d","M0 0 3 3"),this.Ut.style.transition="transform.2s",this.Ut.style.transform=`translate(${t}px,${i}px)scale(1.1)`}Yt(){let t=4+8*this.x,i=4+8*this.y;this.Rt.style.transition="transform.3s d.4s",this.Rt.setAttribute("d","M0 0 2 2"),this.Rt.style.transform=`translate(${t}px,${i}px)scale(1)`,this.Ut.style.transition="transform.3s",this.Ut.style.transform=`translate(${t}px,${i}px)scale(1)`}}let vt=()=>{let t=W("svg");t.setAttribute("viewBox","0 0 16 16"),t.setAttribute("stroke-linecap","round");let i=W("path");i.setAttribute("fill",T),i.setAttribute("d","M15 2h-4c-1 0-5 0-6 2l-2 5c-1 2 0 5 2 5h4 l2 2z");let e=W("path");e.setAttribute("fill",L),e.setAttribute("d","M12 3c-2 2-5-1-7-1s-3-.5-3-1c0-.5 2-1 4-1s8 1 6 3z");let s=W("circle");return s.setAttribute("cx",8),s.setAttribute("cy",6),s.setAttribute("r",1),s.setAttribute("fill",P),t.append(i,e,s),t},Tt=()=>{let t=W("svg");t.setAttribute("viewBox","0 0 20 20"),t.setAttribute("stroke-linecap","round"),t.style.width="48px",t.style.height="48px";let i=W("path");i.setAttribute("fill",_),i.setAttribute("d","M18 12c-2-3-4-8-7-8-4 0-10 5-10 9 0 3 6 3 8 3l2 4z");let e=W("path");e.setAttribute("fill","#bcc"),e.setAttribute("d","M7.4 7.5c-1-4 3.7-6 8-4 1 .4 1 1.3 0 1-3-1-6 1-4 4 1.1 1.7-3.2 2-4-1z");let s=W("path");s.setAttribute("fill","#cdd"),s.setAttribute("d","M6 5.8c-1-4 3.7-6 8-4 1 .4 1 1.3 0 1-3-1-6 1-4 4 1.1 1.6-3.2 2-4-1z");let h=W("path");h.setAttribute("fill","#cdd"),h.setAttribute("d","M6 15c0 4-2 5-2 4 0-2-1 0-1-1v-3z");let r=W("circle");return r.setAttribute("cx",7),r.setAttribute("cy",9.3),r.setAttribute("r",1),r.setAttribute("fill",P),t.append(e,s,h,i,r),t},Lt=()=>{let t=W("svg");t.setAttribute("viewBox","0 0 20 20"),t.setAttribute("stroke-linecap","round");let i=W("path");i.setAttribute("fill",A),i.setAttribute("d","m17 11 1-4c1-4-5 0-5 4s6 8 5 4zM4 6.5c0-2 2-4 2-4 4 0 7 4 8 8m-11 4c4 2 14 6 6-2");let e=W("path");e.setAttribute("fill",A),e.setAttribute("d","m0 11c0 10 16 4 16 0s-16-12-16 0");let s=W("circle");return s.setAttribute("cx",4),s.setAttribute("cy",9),s.setAttribute("r",1),s.setAttribute("fill",P),t.append(e,i,s),t},_t=q(),At=q(),Dt=q(),Pt=q(),zt=q(),St=q(),Bt=q(),Ct=q(),Nt=q(),Wt=q(),qt=q(),Ot=W("path"),Ft=(t,i)=>{nt.filter((e=>(e.ut[0].x==t&&e.ut[0].y==i||e.ut[1].x==t&&e.ut[1].y==i)&&!e.ut[0].fixed&&!e.ut[1].fixed)).forEach((t=>{99>ft.bt&&(ft.bt++,qt.innerText=ft.bt),t.remove()})),ct({Ft:[{x:t,y:i}]})};function Zt(t,i,e){let s=(i.y-t.y)*(e.x-i.x)-(i.x-t.x)*(e.y-i.y);return 0==s?0:s>0?1:2}let jt=[],Ut=({width:t,height:i,x:e,y:s})=>{let h=[],r=[];for(let p=-i/2+.5;i/2-.5>=p;p++)for(let i=-t/2+.5;t/2-.5>=i;i++)t/2-Math.abs(i)+2*Math.random()-1>Math.abs(p)&&h.push({x:Math.floor(i),y:Math.floor(p)});h=h.map((h=>({x:e+h.x+Math.floor(t/2),y:s+h.y+Math.floor(i/2)})));for(let p=0;i>p;p++)for(let i=0;t>i;i++)r.push({x:e+i,y:s+p});jt.push({width:t,height:i,x:e,y:s,ut:h,Gt:r});let a=(t=>{let i=0;for(let h=1;h<t.length;h++)(t[h].y<t[i].y||t[h].y==t[i].y&&t[h].x<t[i].x)&&(i=h);let e=[],s=i;do{e.push(t[s]);let i=(s+1)%t.length;for(let e=0;e<t.length;e++)2==Zt(t[s],t[e],t[i])&&(i=e);s=i}while(s!=i);s=i;do{let h=(s-1+t.length)%t.length;for(let i=0;i<t.length;i++)2==Zt(t[s],t[i],t[h])&&(h=i);s=h,s!=i&&e.push(t[s])}while(s!=i);return e})(h),o=W("path");o.setAttribute("fill","#69b");let n=a.reduce(((t,i,e)=>{let s=a.at((e+1)%a.length),h=i.x+(s.x-i.x)/2,r=i.y+(s.y-i.y)/2;return`${t} ${4+8*i.x} ${4+8*i.y} ${4+8*h} ${4+8*r}`}),`M${4+8*(a[0].x+(a.at(-1).x-a[0].x)/2)} ${4+8*(a[0].y+(a.at(-1).y-a[0].y)/2)}Q`);o.setAttribute("d",n+"Z"),o.setAttribute("stroke-width",4),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke","#69b");let l=W("path");l.setAttribute("fill","#7ac"),l.setAttribute("d",n+"Z"),l.setAttribute("stroke-width",1),l.setAttribute("stroke","#7ac"),l.style.filter="blur(2px)";let d=W("path");d.setAttribute("d",n+"Z"),d.setAttribute("stroke-width",6),d.setAttribute("stroke","#9b6"),st.append(d,o,l)},Qt={},Rt=!1,Jt=(t,i)=>Mt.find((e=>e.x==t&&e.y==i)),Et=(t,i)=>jt.find((e=>e.ut.find((e=>e.x==t&&e.y==i)))),Yt=(t,i)=>nt.find((e=>e.ut[1].x==t&&e.ut[1].y==i&&e.ut[1].wt)),Gt=(t,i,e,s)=>nt.find((h=>h.ut[0].x==t&&h.ut[0].y==i&&h.ut[1].x==e&&h.ut[1].y==s||h.ut[1].x==t&&h.ut[1].y==i&&h.ut[0].x==e&&h.ut[0].y==s)),Kt=t=>4+8*t,Ht=W("g"),It=W("path");It.style.opacity=0,It.style.scale=0,It.style.transition="all.2s, scale.4s cubic-bezier(.5,2,.5,1)",Ht.append(It),tt.append(Ht);let Vt=[],Xt=t=>3+Math.random()*(8*t-6);class ti extends u{constructor(t){var i,e;super({...t,anchor:{x:.5,y:.5},x:Xt((null==(i=t.$t)?void 0:i.width)??0),y:Xt((null==(e=t.$t)?void 0:e.height)??0),rotation:t.rotation??Math.random()*Math.PI*4-2*Math.PI});let s=8*this.$t.x+this.x,h=8*this.$t.y+this.y;this.Kt=t.Kt??!1,this.Ht=t.Ht,this.It=!1,this.Vt=null,this.Xt=W("g"),this.Xt.style.opacity=0,this.Xt.style.willChange="opacity, transform",this.Xt.style.transition="all.8s cubic-bezier(.5,2,.5,1)",this.Xt.style.transformOrigin="bottom",this.Xt.style.transformBox="fill-box",this.Xt.style.transform=`translate(${s}px,${h-this.height/2}px)`,et.append(this.Xt);let r=W("path");r.setAttribute("fill","#fff"),r.setAttribute("d","m6 6-2-2a3 3 0 1 1 4 0Z"),r.setAttribute("transform","scale(.5) translate(-6 -8)"),this.Xt.append(r),this.ti=W("path"),this.ti.setAttribute("stroke",this.color),this.ti.setAttribute("d","M3 6L3 6M3 4.5L3 3"),this.ti.setAttribute("transform","scale(.5) translate(-3 -10.4)"),this.ti.style.opacity=0,this.Xt.append(this.ti),this.ii=W("path"),this.ii.setAttribute("fill",this.color),this.ii.setAttribute("d","M6 6L4 4A1 1 0 1 1 6 2 1 1 0 1 1 8 4Z"),this.ii.setAttribute("transform","scale(.3) translate(-6 -13)"),this.ii.style.opacity=0,this.Xt.append(this.ii),Vt.push(this)}m(){let t=8*this.$t.x+this.x,i=8*this.$t.y+this.y;this.Xt.style.transform=`translate(${t}px,${i-this.height/2}px)scale(${this.It||this.ei?1:0})`}si(){return{x:Xt(this.$t.width),y:Xt(this.$t.height)}}hi(){this.ei=!0,this.Xt.style.opacity=1,this.ti.style.opacity=0,this.ii.style.opacity=1}ri(){this.ei=!1,this.Xt.style.opacity=this.It?1:0,this.ti.style.opacity=this.It?1:0,this.ii.style.opacity=0}ai(){this.It=!0,this.ti.style.opacity=1,this.ii.style.opacity=0,this.Xt.style.opacity=1}oi(){this.It=!1,this.ii.style.opacity=this.ei?1:0,this.Xt.style.opacity=this.ei?1:0,this.ti.style.opacity=0}ni(t){t?this.ai():this.oi()}}let ii=[];class ei extends ti{constructor(t){super({...t,$t:t.$t,width:1.5,height:2.5,Ht:.6,color:T,Kt:!!t.Kt&&5e3}),ii.push(this)}Lt(){this.scale=0;let t=W("g");t.style.transformOrigin="center",t.style.transformBox="fill-box",t.style.transition="all 1s",t.style.willChange="transform",this.yt=t,J.append(t);let i=W("rect");i.setAttribute("fill",T),i.setAttribute("width",this.width),i.setAttribute("height",this.height),i.setAttribute("rx",this.Ht),t.append(i);let e=W("path");e.setAttribute("fill","none"),e.setAttribute("stroke",L),e.setAttribute("width",this.width),e.setAttribute("height",this.height),e.setAttribute("d","M0 2Q0 1 1 1 Q2 1 2 2"),e.setAttribute("transform","translate(-0.2 .6)"),e.setAttribute("stroke-width",.4),this.Kt&&(e.style.transition="all 1s",e.style.willChange="opacity",e.style.opacity=0),this.li=e,t.append(e);let s=W("rect");s.setAttribute("width",this.width),s.setAttribute("height",this.height),s.setAttribute("rx",this.Ht),s.style.transformOrigin="center",s.style.transformBox="fill-box",s.style.transition="all 1s",s.style.willChange="transform",this.di=s,E.append(s),this.m(),_t.style.width="96px",_t.style.opacity="1",setTimeout((()=>{this.scale=1,At.innerText=ii.length}),500),setTimeout((()=>{t.style.transition="",t.style.willChange="",s.style.willChange="",s.style.transition=""}),1500)}update(t){if(this.advance(),t&&(1==this.Kt&&(this.li.style.opacity=1),this.Kt&&this.Kt--),Math.random()>.99&&(this.target=this.si()),this.target){let t=l(this,this.target)-this.rotation,i=p(this.target),e=i.h(this)>1;if(Math.abs(t%(2*Math.PI))>.1)this.rotation+=t>0?.04:-.04;else if(e>.1){let t=i.t(this).normalize(),e=this.x+.05*t.x,s=this.y+.05*t.y;this.$t.children.some((t=>{if(this==t)return!1;let i=p(t),h=i.h({x:this.x,y:this.y}),r=i.h({x:e,y:s});return 4>r&&h>r}))||(this.x=e,this.y=s)}}}m(){super.m();let t=8*this.$t.x+this.x-this.width/2,i=8*this.$t.y+this.y-this.height/2;this.yt.style.transform=`translate(${t}px,${i}px)rotate(${n(this.rotation)-90}deg)scale(${this.scale*(this.Kt?.5:1)})`,this.di.style.transform=`translate(${t}px,${i}px)rotate(${n(this.rotation)-90}deg)scale(${(this.scale+.04)*(this.Kt?.5:1)})`}}let si=[];class hi extends mt{constructor(t){let{pi:i}=t;super(t),this.delay=this.delay??0,this.Ct=0,this.ci=0,this.ui=16*this.width+16*this.height,this.fi=0,this.Wt=[],this.ut=[];for(let e=0;e<this.width;e++)for(let t=0;t<this.height;t++)this.ut.push({x:this.x+e,y:this.y+t});setTimeout((()=>{this.qt=new ut({ut:[{x:this.x+i[0].x,y:this.y+i[0].y,fixed:i[0].fixed,wt:i[0].wt},{x:this.x+i[1].x,y:this.y+i[1].y,fixed:i[1].fixed,wt:i[1].wt}]}),ct({})}),1500+t.delay),si.push(this),setTimeout((()=>{this.Lt()}),t.delay)}xi(t){this.v(t),t.Lt()}yi(){let t=this.children.filter((t=>!t.Kt)),i=t.filter((t=>!t.It)),e=t.filter((t=>t.It));this.It?this.fi>t.length?this.children.forEach((t=>t.oi())):this.oi():(this.ni(this.fi>t.length),e.length&&this.fi<e.length&&e[Math.floor(Math.random()*e.length)].oi(),i.length&&this.fi>t.length-i.length&&i[Math.floor(Math.random()*i.length)].ai())}update(t){if(!this.mi){t&&(this.fi=Math.floor(this.Ct/this.Nt),this.Ct+=this.children.length-1,this.It&&this.gi(),this.yi()),this.children.forEach((i=>i.update(t)));for(let t=0;t<this.fi;t++){if(this.Wt.length>=this.fi)return;let t=bt.filter((t=>t.vt&&t.Mt==this.Mt));if(0==t.length)return;let i=t[0],e=null;for(let s=0;s<t.length;s++){let h=gt({from:{x:t[s].$t.x,y:t[s].$t.y},to:this.ut});(!e||h&&h.length<e.length)&&(e=h,i=t[s])}e&&(i.destination=e.at(-1),i.St=!0,i.Bt=e,i.Pt=[...e],i.vt=!1,this.Wt.push(i),i.At=this)}}}m(){this.children.forEach((t=>t.m()))}Lt(){let t=.75+8*this.x,i=.75+8*this.y,e=8*this.width-1-.5,s=8*this.height-1-.5;if(this.Mt!=A){let h=W("rect");h.style.width=e,h.style.height=s,h.setAttribute("rx",2),h.setAttribute("transform",`translate(${t},${i})`),h.style.opacity=0,h.style.transition="opacity.8s",h.style.willChange="opacity",h.setAttribute("fill",$),H.append(h),setTimeout((()=>h.style.opacity=1),1e3),setTimeout((()=>h.style.willChange=""),2e3)}let h=W("rect");h.setAttribute("width",e),h.setAttribute("height",s),h.setAttribute("rx",2),h.setAttribute("transform",`translate(${t},${i})`),h.setAttribute("stroke",this.wi),h.setAttribute("stroke-dasharray",this.ui),h.setAttribute("stroke-dashoffset",this.ui),h.style.transition="all 1s",G.append(h);let r=W("rect");r.setAttribute("width",e),r.setAttribute("height",s),r.setAttribute("rx",2),r.style.transform=`translate(${t-.5}px,${i-.5}px)`,r.style.willChange="stroke-dashoffset, transform",r.setAttribute("stroke-dasharray",this.ui),r.setAttribute("stroke-dashoffset",this.ui),r.style.transition="stroke-dashoffset 1s,transform.5s",K.append(r),setTimeout((()=>{h.setAttribute("stroke-dashoffset",0),r.setAttribute("stroke-dashoffset",0)}),100),setTimeout((()=>{r.style.transform=`translate(${t}px,${i}px)`}),1e3),this.Xt=W("g"),this.Xt.translate=`${t+e/2}px,${i+s/2+1.5}px`,this.Xt.style.willChange="opacity, transform",this.Xt.style.transition="all.8s cubic-bezier(.5,2,.5,1)",this.Xt.style.transformOrigin="bottom",this.Xt.style.transformBox="fill-box",this.Xt.style.opacity=0,this.Xt.style.transform=`translate(${this.Xt.translate})scale(0)`,et.append(this.Xt),this.bi=W("path"),this.bi.setAttribute("fill","#fff"),this.bi.setAttribute("d","m6 6-2-2a3 3 0 1 1 4 0Z"),this.bi.setAttribute("transform","translate(-9 -9) scale(1.5)"),this.Xt.append(this.bi),this.ki=W("circle"),this.ki.setAttribute("fill","none"),this.ki.setAttribute("stroke-width","2"),this.ki.setAttribute("stroke-linecap","square"),this.ki.setAttribute("r",2),this.ki.setAttribute("stroke",P),this.ki.setAttribute("opacity",.2),this.ki.setAttribute("transform","scale(1.2) translate(0 -5.3)"),this.Xt.append(this.ki),this.Mi=W("circle"),this.Mi.setAttribute("fill","none"),this.Mi.setAttribute("stroke-width","2"),this.Mi.setAttribute("stroke-linecap","butt"),this.Mi.setAttribute("r",2),this.Mi.setAttribute("stroke",z),this.Mi.style.willChange="stroke-dashoffset",this.Mi.style.transition="stroke-dashoffset.5s",this.Mi.setAttribute("stroke-dasharray",12.56),this.Mi.setAttribute("stroke-dashoffset",12.56),this.Mi.style.transition="stroke-dashoffset.3s.1s",this.Mi.setAttribute("transform","scale(1.2) translate(0 -5.3) rotate(-90)"),this.Xt.append(this.Mi),this.Xt.style.opacity=1}ai(){this.It=!0,this.Xt.style.opacity=1,this.Mi.style.transition="stroke-dashoffset.4s.8s",this.Xt.style.transform=`translate(${this.Xt.translate})scale(1)`,this.Xt.style.transition="all.8s cubic-bezier(.5,2,.5,1)",setTimeout((()=>{this.Mi.style.transition="stroke-dashoffset.4s"}),1e3)}oi(){this.It=!1,this.Xt.style.opacity=0,this.Mi.style.transition="stroke-dashoffset.3s",this.Xt.style.transform=`translate(${this.Xt.translate})scale(0)`,this.Xt.style.transition="all.8s cubic-bezier(.5,2,.5,1) .4s"}ni(t){t?this.ai():this.oi()}gi(){let t=this.children.filter((t=>!t.Kt)),i=2*t.length,e=this.fi-t.length,s=12.56-12.56/i*e;this.Mi.setAttribute("stroke-dashoffset",s),this.$i<e&&(this.Xt.style.transform=`translate(${this.Xt.translate})scale(1.2)`,setTimeout((()=>{this.Xt.style.transform=`translate(${this.Xt.translate})scale(1)`}),200)),this.$i=e,e==i&&(this.u=!1)}}let ri=[];class ai extends hi{constructor(t){super({...t,wi:T}),this.Nt=225,this.Mt=T,ri.push(this),setTimeout((()=>this.xi({})),2e3+t.delay),setTimeout((()=>this.xi({})),3e3+t.delay),setTimeout((()=>this.xi({Kt:(ri.length-1)%2})),4e3+t.delay),this.mi=!0,setTimeout((()=>this.mi=!1),3e3)}vi(){if(this.children.length>=5)return!1;for(let t=0;t<this.children.filter((t=>!t.Kt)).length;t++)setTimeout((()=>this.children.filter((t=>!t.Kt))[t].hi()),1e3*t),setTimeout((()=>this.children.filter((t=>!t.Kt))[t].ri()),7e3),t&&setTimeout((()=>this.xi({Kt:!0})),1e3*t+7e3);return!0}xi({Kt:t=!1}){super.xi(new ei({$t:this,Kt:t}))}update(t){super.update(t)}}let oi=[];class ni extends ti{constructor(t){super({...t,$t:t.$t,width:1,height:1.5,Ht:.6,color:_,Kt:!!t.Kt&&4e3}),oi.push(this)}Lt(){this.scale=0;let t=W("g");t.style.transformOrigin="center",t.style.transformBox="fill-box",t.style.transition="all 1s",t.style.willChange="transform",this.yt=t,J.append(t);let i=W("rect");i.setAttribute("fill",_),i.setAttribute("width",this.width),i.setAttribute("height",this.height),i.setAttribute("rx",this.Ht),t.append(i);let e=W("rect");e.setAttribute("width",this.width),e.setAttribute("height",this.height),e.setAttribute("rx",this.Ht),e.style.transformOrigin="center",e.style.transformBox="fill-box",e.style.transition="all 1s",e.style.willChange="transform",this.di=e,E.append(e),this.m(),Dt.style.width="96px",Dt.style.opacity="1",setTimeout((()=>{this.scale=1,Pt.innerText=oi.length}),500),setTimeout((()=>{t.style.transition="",t.style.willChange="",e.style.willChange="",e.style.transition=""}),1500)}update(t){if(this.advance(),t&&this.Kt&&this.Kt--,Math.random()>.96&&(this.target=this.si()),this.target){let t=l(this,this.target)-this.rotation,i=p(this.target),e=i.h(this)>1;if(Math.abs(t%(2*Math.PI))>.1)this.rotation+=t>0?.1:-.1;else if(e>.1){let t=i.t(this).normalize(),e=this.x+.1*t.x,s=this.y+.1*t.y;this.$t.children.some((t=>{if(this==t)return!1;let i=p(t),h=i.h({x:this.x,y:this.y}),r=i.h({x:e,y:s});return 4>r&&h>r}))||(this.x=e,this.y=s)}}}m(){super.m();let t=8*this.$t.x+this.x-this.width/2,i=8*this.$t.y+this.y-this.height/2;this.yt.style.transform=`translate(${t}px,${i}px)rotate(${n(this.rotation)-90}deg)scale(${this.scale*(this.Kt?.6:1)})`,this.di.style.transform=`translate(${t}px,${i}px)rotate(${n(this.rotation)-90}deg)scale(${(this.scale+.04)*(this.Kt?.6:1)})`}}let li=[];class di extends hi{constructor(t){super({...t,wi:_}),this.Nt=240,this.Mt=_,li.push(this),setTimeout((()=>this.xi({})),2e3),setTimeout((()=>this.xi({})),3e3),setTimeout((()=>this.xi({Kt:(li.length-1)%2})),4e3),this.mi=!0,setTimeout((()=>this.mi=!1),3e3)}vi(){if(this.children.length>=7)return!1;for(let t=0;2>t;t++)setTimeout((()=>this.children.filter((t=>!t.Kt))[t].hi()),1e3*t),setTimeout((()=>this.children.filter((t=>!t.Kt))[t].ri()),7e3),t&&setTimeout((()=>this.xi({Kt:!0})),1e3*t+7e3);return!0}xi({Kt:t=!1}){super.xi(new ni({$t:this,Kt:t}))}update(t){super.update(t)}}let pi=[];class ci extends ti{constructor(t){super({...t,$t:t.$t,width:.7,height:1,Ht:1,color:A}),pi.push(this)}Lt(){this.scale=0,this.yt=W("g"),this.yt.style.transformOrigin="center",this.yt.style.transformBox="fill-box",this.yt.style.transition="all 1s",this.yt.style.willChange="transform",J.append(this.yt),this.Dt=W("rect"),this.Dt.setAttribute("fill",A),this.Dt.setAttribute("width",this.width),this.Dt.setAttribute("height",this.height),this.Dt.setAttribute("rx",this.Ht),this.Dt.style.transition="fill.2s",this.yt.append(this.Dt),this.m(),zt.style.width="96px",zt.style.opacity="1",setTimeout((()=>{this.scale=1,St.innerText=pi.length}),500),setTimeout((()=>{this.yt.style.transition="",this.yt.style.willChange=""}),1500),setTimeout((()=>{this.Dt.setAttribute("fill",C)}),4e3)}update(t){if(this.advance(),t&&this.Kt&&this.Kt--,Math.random()>.96&&(this.target=this.si()),this.target){let t=l(this,this.target)-this.rotation,i=p(this.target),e=i.h(this)>1;if(Math.abs(t%(2*Math.PI))>.1)this.rotation+=t>0?.1:-.1;else if(e>.1){let t=i.t(this).normalize(),e=this.x+.1*t.x,s=this.y+.1*t.y;this.$t.children.some((t=>{if(this==t)return!1;let i=p(t),h=i.h({x:this.x,y:this.y}),r=i.h({x:e,y:s});return 4>r&&h>r}))||(this.x=e,this.y=s)}}}m(){super.m();let t=8*this.$t.x+this.x-this.width/2,i=8*this.$t.y+this.y-this.height/2;this.yt.style.transform=`translate(${t}px,${i}px)rotate(${n(this.rotation)-90}deg)scale(${this.scale*(this.Kt?.6:1)})`,this.It&&(this.Dt.style.fill=A)}}let ui=[];class fi extends hi{constructor(t){super({...t,wi:"#fff",width:2,height:2}),this.Nt=1300,this.Mt=A,ui.push(this),setTimeout((()=>this.xi({})),2e3+(t.delay??0)),setTimeout((()=>this.xi({})),2500+(t.delay??0)),setTimeout((()=>this.xi({})),3e3+(t.delay??0)),setTimeout((()=>this.xi({})),3500+(t.delay??0)),setTimeout((()=>this.xi({})),4e3+(t.delay??0)),this.mi=!0,setTimeout((()=>this.mi=!1),3e3)}vi(){if(this.children.length>=9)return!1;for(let t=0;2>t;t++)setTimeout((()=>this.children[t].hi()),1e3*t),setTimeout((()=>this.children[t].ri()),7e3);for(let t=0;4>t;t++)setTimeout((()=>this.xi({})),1e3*t+7e3);return!0}xi({Kt:t=!1}){super.xi(new ci({$t:this,Kt:t}))}update(t){super.update(t)}}let xi=[T,_],yi=3e3,mi=({width:t=1,height:i=1,anchor:e={x:13,y:7,width:0,height:0},Ti:s=0,maxDistance:h=99,Li:r=9,_i:a={x:0,y:0}})=>{let o=0;for(;r>o;){o++;let r=Math.max(3,e.x-h),n=Math.min(23-t+1,e.x+e.width+h-t+1),l=Math.max(2,e.y-h),d=Math.min(12-i+1,e.y+e.height+h-i+1),p=Math.floor(r+Math.random()*(n-r)),c=Math.floor(l+Math.random()*(d-l));if(p<e.x+e.width+s-1&&p>e.x-s-t+1&&c<e.y+e.height+s-1&&c>e.y-s-i+1)continue;if(3>p+a.x||p+a.x>22||2>c+a.y||c+a.y>11)continue;if(jt.some((e=>e.Gt.some((e=>{for(let s=0;t>s;s++)for(let t=0;i>t;t++)if(p+s==e.x&&c+t==e.y)return!0;return!1})))))continue;if(si.some((e=>e.ut.some((e=>{for(let s=0;t>s;s++)for(let t=0;i>t;t++)if(p+s==e.x&&c+t==e.y)return!0;return!1})))))continue;let u=t=>t.x==p+a.x&&t.y==c+a.y;if(!si.some((t=>t.ut.some(u)))&&!nt.some((e=>{for(let s=0;t>s;s++)for(let t=0;i>t;t++)if(p+s==e.ut[0].x&&c+t==e.ut[0].y||p+s==e.ut[1].x&&c+t==e.ut[1].y)return!0;return p+a.x==e.ut[0].x&&c+a.y==e.ut[0].y||p+a.x==e.ut[1].x&&c+a.y==e.ut[1].y})))return{x:p,y:c}}return null},gi=()=>{let t=Math.random()>.5,i=t?{w:2,Ai:3}:{w:3,Ai:2},e=Math.floor(Math.random()*i.w),s=Math.floor(Math.random()*i.Ai);return{width:i.w,height:i.Ai,pi:[{x:e,y:s},{x:t?3*e-1:e,y:t?s:3*s-1}]}},wi=()=>si.length<xi.length?xi[si.length]:xi.at(Math.random()*xi.length),bi=()=>{if(si.length<xi.length)return xi[si.length-1];let t={};Mt.filter((t=>t.Mt!=A)).forEach((i=>{t[i.Mt]=t[i.Mt]?t[i.Mt]+1:1}));let i={};si.filter((t=>t.Mt!=A)).forEach((t=>{i[t.Mt]=i[t.Mt]?i[t.Mt]+1:1}));let e=[];Object.keys(i).forEach((s=>{e.push(i[s]/t[s])}));let s=Object.keys(i)[(t=>{let i=t.reduce(((t,i)=>t+i),0),e=Math.random()*i,s=0;for(let h=0;h<t.length;h++)if(s+=t[h],s>e)return h;return null})(e)];return s},ki=()=>{let t,i=Math.random();return t=.25>i?{x:0,y:-1}:.5>i?{x:1,y:0}:.75>i?{x:0,y:1}:{x:-1,y:0},{Ot:t}},Mi=0,$i=0,vi=0,Ti=0,Li={Di:!1},_i=(t,i)=>{let e=!1;if(t%yi==0&&(Mi=Math.floor(200*Math.random()),$i=Math.floor(200*Math.random()),vi=Math.floor(200*Math.random()),Ti=Math.floor(200*Math.random())),0==t)if(Math.random()>.5){let t=6,i=4,e=mi({width:t,height:i,Ti:5,Li:32});e&&Ut({width:t,height:i,x:e.x,y:e.y})}else{let t=mi({width:4,height:4,Ti:5,Li:16});t&&Ut({width:4,height:4,x:t.x,y:t.y});let i=mi({width:3,height:2,Ti:5,Li:16});i&&Ut({width:3,height:2,x:i.x,y:i.y});let e=mi({width:3,height:2,Ti:5,Li:16});e&&Ut({width:3,height:2,x:e.x,y:e.y})}if(0==t||t>1e3&&t%yi==0+(si.length?Mi:0))if(t>1e4&&!ui.length){let t=jt.find((t=>t.width>=4&&t.height>=4)),i=13>t.x?1:0,e=13>t.x?2:-1,s=13>t.x?3:-2,h=7>t.y?1:0,r=t.x+t.width/2-1,a=t.y+t.height/2-1;new fi({x:r,y:a,pi:[{x:i,y:h,fixed:!0,wt:!0},{x:t.width>4?s:e,y:h,fixed:!0,wt:!0}]})}else{let{width:s,height:h,pi:r}=gi(),a=wi(),o=mi({width:s,height:h,anchor:si.length>1?Mt.filter((t=>t.Mt==a)).at(Math.random()*Mt.length):si[si.length-1],maxDistance:si.length+2,Ti:si.length?2:0,Li:0==t?32:8,_i:{x:r[1].x,y:r[1].y}});if(!o){let t=wt(si);for(let i=0;i<t.length&&!e;i++)t[i].vi()&&(e=!0);return}if(a==T)return void new ai({width:s,height:h,x:o.x,y:o.y,pi:r,delay:i});if(a==_)return void new di({width:s,height:h,x:o.x,y:o.y,pi:r,delay:i})}if(t%yi!=500+$i)if(t%yi==600+$i&&Li.Di){let{Ot:t}=ki(),i=si.filter((t=>t.Mt==A)).length&&2>Mt.filter((t=>t.Mt==A)).length?si.find((t=>t.Mt==A)):si.length>2?si.at(Math.random()*si.length):si[si.length-1],e=mi({anchor:{x:i.x,y:i.y,width:i.width,height:i.height},Ti:3,maxDistance:2+si.length,_i:t});e?(new $t({x:e.x,y:e.y,Mt:i.Mt,Ot:t}),Li.Di=!1):Li.Di=!0}else if(t%yi==700+$i&&Li.Di){let{Ot:t}=ki(),i=si.filter((t=>t.Mt==A)).length&&2>Mt.filter((t=>t.Mt==A)).length?si.find((t=>t.Mt==A)):si.length>2?si.at(Math.random()*si.length):si[si.length-1],e=mi({anchor:{x:i.x,y:i.y,width:i.width,height:i.height},Ti:3,maxDistance:2+si.length,_i:t});e?(new $t({x:e.x,y:e.y,Mt:i.Mt,Ot:t}),Li.Di=!1):Li.Di=!0}else if(t%yi!=1500+vi){if(t%yi==1600+vi&&Li.Di){let{Ot:t}=ki(),i=bi(),e=Mt.filter((t=>t.Mt==i)),s=e.at(Math.random()*e.length);if(!s)return;let h=mi({anchor:{x:s.x,y:s.y,width:1,height:1},Ti:1,maxDistance:si.length,_i:t});h?(new $t({x:h.x,y:h.y,Mt:i,Ot:t}),Li.Di=!1):Li.Di=!0}else if(t%yi==1600+vi&&Li.Di){let{Ot:t}=ki(),i=bi(),e=Mt.filter((t=>t.Mt==i)),s=e.at(Math.random()*e.length);if(!s)return;let h=mi({anchor:{x:s.x,y:s.y,width:1,height:1},Ti:1,maxDistance:si.length,_i:t});h?(new $t({x:h.x,y:h.y,Mt:i,Ot:t}),Li.Di=!1):Li.Di=!0}else if(t%yi==2500+Ti&&t>1e4){let{width:s,height:h,pi:r}=gi(),a=wi(),o=mi({width:s,height:h,anchor:si.length>1?Mt.filter((t=>t.Mt==a)).at(Math.random()*Mt.length):si[si.length-1],maxDistance:si.length+2,Ti:si.length?2:0,Li:0==t?32:8,_i:{x:r[1].x,y:r[1].y}});if(!o){let t=wt(si);for(let i=0;i<t.length&&!e;i++)t[i].vi()&&(e=!0);return}if(a==T)return void new ai({width:s,height:h,x:o.x,y:o.y,pi:r,delay:i});if(a==_)return void new di({width:s,height:h,x:o.x,y:o.y,pi:r,delay:i})}}else{let{Ot:t}=ki(),i=bi(),e=Mt.filter((t=>t.Mt==i)),s=e.at(Math.random()*e.length);if(!s)return;let h=mi({anchor:{x:s.x,y:s.y,width:1,height:1},Ti:1,maxDistance:si.length,_i:t});h?(new $t({x:h.x,y:h.y,Mt:i,Ot:t}),Li.Di=!1):Li.Di=!0}else{let{Ot:t}=ki(),i=si.filter((t=>t.Mt==A)).length&&2>Mt.filter((t=>t.Mt==A)).length?si.find((t=>t.Mt==A)):si.length>2?si.at(Math.random()*si.length):si[si.length-1],e=mi({anchor:{x:i.x,y:i.y,width:i.width,height:i.height},Ti:3,maxDistance:2+si.length,_i:t});e?(new $t({x:e.x,y:e.y,Mt:i.Mt,Ot:t}),Li.Di=!1):Li.Di=!0}},Ai=q();Ai.style.cssText="backdrop-filter:blur(8px);position:absolute;inset:0;pointer-events:none;background:#fffb;";let Di=q(),Pi=q(),zi=q(),Si=q(),Bi=q(),Ci=q(),Ni=q(),Wi=q("button"),qi=q(),Oi=q("button"),Fi=q(),Zi=vt(),ji=q(),Ui=Tt(),Qi=q(),Ri=Lt(),Ji=()=>{Di.style.transition="opacity 1s 2s",Ai.style.transition="opacity 1s 1s",Pi.style.transition="opacity.3s.6s",zi.style.transition="opacity.3s.5s",Si.style.transition="opacity.3s.4s",Fi.style.transition="opacity.3s.3s",ji.style.transition="opacity.3s.2s",Qi.style.transition="opacity.3s.2s",Ni.style.transition="opacity.3s.1s",qi.style.transition="opacity.3s 0s",Di.style.pointerEvents="none",Di.style.opacity=0,Ai.style.opacity=0,Pi.style.opacity=0,zi.style.opacity=0,Si.style.opacity=0,Fi.style.opacity=0,ji.style.opacity=0,Qi.style.opacity=0,Ni.style.opacity=0,qi.style.opacity=0},Ei=q(),Yi=q(),Gi=q(),Ki=q(),Hi=q(),Ii=q("button"),Vi=(t,i)=>{Ai.style.clipPath="polygon(0 0, calc(20dvw + 400px) 0, calc(20dvw + 350px) 100%, 0 100%)",Ai.style.transition="clip-path 1s, opacity 2s",Yi.style.transition="opacity .5s 1s",Gi.style.transition="opacity .5s 1.2s",Hi.style.transition="opacity .5s 1.4s",i&&(Ai.style.transition="opacity 0s",Yi.style.transition="opacity .5s .4s",Gi.style.transition="opacity .5s .6s",Hi.style.transition="opacity .5s .8s");let e=yt(t.x-13-3+t.width/2,t.y-7-2+t.height/2),s=window.innerWidth/4;j.style.transition="",j.style.transform=`translate(${s}px,0)rotate(-17deg)scale(2)translate(${-e.x}px,${-e.y}px)`,Ei.style.pointerEvents="",Ai.style.opacity=1,Yi.style.opacity=1,Gi.style.opacity=1,Hi.style.opacity=1},Xi=0,te=0,ie=0,ee=!1;var se,he,re;(()=>{let t=q("style");t.innerText=`body{font-family:system-ui;font-weight:700;color:#443;margin:0}button{font-weight:700;font-family:system-ui;border:none;padding:0 20px;font-size:32px;height:56px;border-radius:48px;background:#fff;box-shadow:0 0 0 1px ${B};transition:all.2s}button:hover{box-shadow:4px 4px 0 1px ${B}}button:active{box-shadow:0 0 0 1px ${B};transform:scale(.95)}`,document.head.append(t);let i=q();i.style.cssText="position:absolute;inset:0;display:grid;overflow:hidden;pointer-events:none;",document.body.append(i),Bt.style.cssText="display:flex;position:absolute;top:16px;left:16px;",Bt.style.Pi="opacity 1s",Bt.style.opacity=0,_t.style.cssText="display:flex;align-items:center;gap:8px;transition:width 1s,opacity 1s 1s";let e=vt();_t.style.width=0,_t.style.opacity=0,e.style.width="48px",e.style.height="48px",_t.append(e,At),Dt.style.cssText="display:flex;align-items:center;gap:8px;transition:width 1s,opacity 1s 1s";let s=Tt();Dt.style.width=0,Dt.style.opacity=0,s.style.width="48px",s.style.height="48px",Dt.append(s,Pt),zt.style.cssText="display:flex;align-items:center;gap:8px;transition:width 1s,opacity 1s 1s";let h=Lt();zt.style.width=0,zt.style.opacity=0,h.style.width="48px",h.style.height="48px",zt.append(h,St),Bt.append(_t,Dt,zt),Ct.style.cssText="position:absolute;top:16px;right:16px;display:grid;place-items:center;border-radius:64px;background:"+P,Ct.style.width="80px",Ct.style.height="80px",Ct.style.opacity=0,Ct.style.transition="opacity 1s";let r=W("svg");r.setAttribute("stroke-linejoin","round"),r.setAttribute("stroke-linecap","round"),r.setAttribute("viewBox","0 0 16 16"),r.style.width="80px",r.style.height="80px";for(let n=75;350>n;n+=25){let t=W("path");t.setAttribute("fill","none"),t.setAttribute("stroke","#eee"),t.setAttribute("transform-origin","center"),t.setAttribute("d","m8 14.5v0"),t.style.transform=`rotate(${n}grad)`,r.append(t)}Ot.setAttribute("stroke","#eee"),Ot.setAttribute("transform-origin","center"),Ot.setAttribute("d","m8 4v4"),r.append(Ot),Nt.style.cssText="position:absolute;bottom:8px;font-size:16px;color:#eee",Nt.innerText="Feb",Ct.append(r,Nt),Wt.style.cssText="position:absolute;display:grid;place-items:center;place-self:center;bottom:20px;margin:0 auto;border-radius:20px;background:"+P,Wt.style.transform="rotate(-45deg)",Wt.style.opacity=0,Wt.style.transition="scale.4s cubic-bezier(.5,2,.5,1), opacity 1s",Wt.style.width="72px",Wt.style.height="72px",qt.style.cssText=`display:grid;place-items:center;position:absolute;border-radius:64px;border:6px solid ${P};transform:translate(28px,28px)rotate(45deg);font-size:20px;background:#eee;transition:all.5s}`,qt.style.width="28px",qt.style.height="28px";let a=W("svg");a.setAttribute("viewBox","0 0 18 18"),a.style.width="54px",a.style.height="54px",a.style.transform="rotate(45deg)";let o=W("path");o.setAttribute("fill","none"),o.setAttribute("stroke","#eee"),o.setAttribute("stroke-linecap","round"),o.setAttribute("stroke-width",2),o.setAttribute("d","M11 1h-3q-2 0-2 2t2 2h4q2 0 2 2t-2 2h-6q-2 0-2 2t2 2h4q2 0 2 2t-2 2h-3"),a.append(o),Wt.append(a,qt),i.append(Bt,Ct,Wt)})(),document.body.append(Ai),Ai.style.opacity=0,se=()=>{j.style.transition="transform 2s",j.style.transform=`rotate(0)scale(2)translate(0,${yt(0,14).y/-2}px)`,_t.style.width=0,Dt.style.width=0,zt.style.width=0,_t.style.opacity=0,Dt.style.opacity=0,zt.style.opacity=0,At.innerText=0,Pt.innerText=0,St.innerText=0,setTimeout((()=>{li.length=0,ri.length=0,bt.length=0,si.length=0,Vt.length=0,ii.length=0,oi.length=0,Mt.length=0,nt.length=0,jt.length=0,Xi=0,te=0,ie=0,at(),Ji(),j.style.transform="",ft.bt=9,qt.innerText=ft.bt,setTimeout((()=>{ae.start()}),1e3)}),1e3)},he=()=>{ee=!1,j.style.transition="transform 2s",j.style.transform=`rotate(0)scale(2)translate(0,${yt(0,14).y/-2}px)`,_t.style.width=0,Dt.style.width=0,zt.style.width=0,_t.style.opacity=0,Dt.style.opacity=0,zt.style.opacity=0,At.innerText=0,Pt.innerText=0,St.innerText=0,setTimeout((()=>{li.length=0,ri.length=0,bt.length=0,si.length=0,Vt.length=0,ii.length=0,oi.length=0,Mt.length=0,nt.length=0,jt.length=0,Xi=0,te=0,ie=0,at(),Ji(),j.style.transform="",ft.bt=9,qt.innerText=ft.bt,setTimeout((()=>{_i(ie,ee),Vi(si[0]),ae.start()}),750)}),500)},Di.style.cssText="position:absolute;inset:0;padding:10dvw;pointer-events:none;opacity:0",Pi.style.cssText="font-size:72px;opacity:0",Pi.innerText="Game Over",zi.style.cssText="margin-top:48px;font-size:24px;opacity:0",zi.innerText="Too few people could tend to this farm in time.",Si.style.cssText="margin-top:16px;font-size:24px;opacity:0",Bi.style.cssText="margin-top:24px;font-size:24px;",Fi.style.cssText="display:inline-flex;padding:6px 10px;line-height:24px;color:#fff;border-radius:24px;opacity:0;background:"+P,ji.style.cssText="display:inline-flex;padding:6px 10px;line-height:24px;color:#fff;border-radius:24px;opacity:0;background:"+P,Qi.style.cssText="display:inline-flex;padding:6px 10px;line-height:24px;color:#fff;border-radius:24px;opacity:0;background:"+P,Zi.style.width="24px",Zi.style.height="24px",Ui.style.width="24px",Ui.style.height="24px",Ri.style.width="24px",Ri.style.height="24px",qi.style.opacity=0,Ni.style.opacity=0,qi.append(Oi),Ni.append(Wi),Wi.className="menu",Oi.className="menu",Wi.innerText="Restart",Oi.innerText="Menu",Wi.addEventListener("click",se),Oi.addEventListener("click",he),Ci.append(Ni,qi),Ci.style.cssText="display:grid;gap:16px;margin-top:48px",Di.append(Pi,zi,Si,Bi,Ci),document.body.append(Di),function(e,{zi:s=!1}={}){t=document.getElementById(e)||e||document.querySelector("canvas"),s&&(t=t||new Proxy({},a)),i=t.getContext("2d")||new Proxy({},a),i.imageSmoothingEnabled=!1,r("init")}(null,{zi:!0}),function(){let t;for(t=0;26>t;t++)g["Key"+String.fromCharCode(t+65)]=String.fromCharCode(t+97);for(t=0;10>t;t++)g["Digit"+t]=g["Numpad"+t]=""+t;window.addEventListener("keydown",b),window.addEventListener("keyup",k),window.addEventListener("blur",M)}(),O.addEventListener("pointerdown",(()=>{Q.style.opacity=.9,Z.style.opacity=.9})),O.addEventListener("pointermove",(t=>{1==t.buttons&&(Q.style.opacity=.9,Z.style.opacity=.9,U.style.opacity=0,F.style.opacity=0)})),O.addEventListener("pointerup",(()=>{Q.style.opacity=0,Z.style.opacity=0})),O.addEventListener("contextmenu",(t=>t.preventDefault())),V.addEventListener("pointerdown",(t=>{t.stopPropagation();let i=V.getBoundingClientRect(),{x:e,y:s}=xt(t.x-i.left,t.y-i.top);if(1==t.buttons){U.style.opacity=1,F.style.opacity=.9;let t=Et(e,s),i=Yt(e,s);if(t&&!i)return;Rt=!0,Qt={x:e,y:s};let h=Jt(Qt.x,Qt.y);h?(h.Et(),V.style.cursor="grabbing"):(It.setAttribute("d","M0 0 0 0"),Ht.setAttribute("transform",`translate(${Kt(e)} ${Kt(s)})`),It.style.opacity=1,It.style.scale=1.3,It.style.transition="all.2s, scale.4s cubic-bezier(.5,2,.5,1)")}else 2==t.buttons&&(V.style.cursor="crosshair",Q.style.opacity=.9,Z.style.opacity=.9,Ft(e,s))})),V.addEventListener("pointermove",(t=>{t.stopPropagation();let i=V.getBoundingClientRect(),{x:e,y:s}=xt(t.x-i.left,t.y-i.top);if(2==t.buttons)return V.style.cursor="crosshair",Q.style.opacity=.9,Z.style.opacity=.9,void Ft(e,s);let h=Jt(Qt.x,Qt.y),r=Jt(e,s),a=Et(e,s),o=Yt(e,s);if(a&&!o)return void(V.style.cursor="not-allowed");if(r&&1!=t.buttons?V.style.cursor="grab":1==t.buttons&&(h&&r||h&&!r)?V.style.cursor="grabbing":Gt(Qt.x,Qt.y,e,s)||(V.style.cursor="cell"),1!=t.buttons)return;if(Q.style.opacity=0,Z.style.opacity=0,U.style.opacity=1,F.style.opacity=.9,!Rt)return;let n=e-Qt.x,l=s-Qt.y,d=new p({x:Kt(Qt.x),y:Kt(Qt.y)}),c=`${Kt(n/2-.5)} ${Kt(l/2-.5)}`;if(Ht.setAttribute("transform",`translate(${d.x} ${d.y})`),It.setAttribute("d","M0 0 "+c),It.style.opacity=1,It.style.scale=1.3,0==n&&0==l||Math.abs(n)>1||Math.abs(l)>1)return void It.setAttribute("d","M0 0 0 0");if(It.style.transition="all.2s, scale.4s cubic-bezier(.5,2,.5,1)",It.style.scale=1,!(({Si:t,from:i,to:e})=>{let s=V.getBoundingClientRect().width/20,h=t.x-s*(i.x-3+.5),r=t.y-s*(i.y-2+.5),a=0>e.y-i.y,o=e.x-i.x>0,n=e.y-i.y>0,l=0>e.x-i.x,d=e.x==i.x,p=e.y==i.y;return a&&d?4-s>r:a&&o?h-r>2*s-4:p&&o?h>s-4:n&&o?h+r>2*s-4:n&&d?r>s-4:n&&l?2*-s+4>h+-r:p&&l?4-s>h:!(!a||!l)&&2*-s+4>h+r})({Si:{x:t.x-i.left,y:t.y-i.top},from:{x:Qt.x,y:Qt.y},to:{x:e,y:s}}))return;if(h&&!r)return h.Zt(e,s),Qt={x:e,y:s},h.Yt(),void(It.style.transition="");if(r&&!h)return r.Zt(Qt.x,Qt.y),Qt={},Rt=!1,void r.Yt();if(h&&r)return;if(0>=ft.bt)return Wt.style.scale=1.1,setTimeout((()=>{Wt.style.scale=1}),300),It.style.opacity=0,Qt={},void(Rt=!1);if(Gt(Qt.x,Qt.y,e,s))return void(V.style.cursor="not-allowed");let u=new ut({ut:[{x:Qt.x,y:Qt.y},{x:e,y:s}]});ft.bt--,qt.innerText=ft.bt,ct({Ft:[{x:Qt.x,y:Qt.y},{x:e,y:s}],Bi:u}),Qt={x:e,y:s},It.style.transition=""})),V.addEventListener("pointerup",(t=>{t.stopPropagation();let i=V.getBoundingClientRect(),{x:e,y:s}=xt(t.x-i.left,t.y-i.top),h=Jt(Qt.x,Qt.y),r=Jt(e,s),a=Et(e,s),o=Yt(e,s);V.style.cursor=a&&!o?"not-allowed":r?"grab":"cell",U.style.opacity=0,F.style.opacity=0,Q.style.opacity=0,Z.style.opacity=0,It.style.opacity=0,It.style.scale=0,h&&h.Yt(),Qt={},Rt=!1})),re=()=>{j.style.transition="transform 2s",j.style.transform="rotate(0) scale(1) translate(0, 0)",qt.innerText=ft.bt,Bt.style.opacity=1,Ei.style.pointerEvents="none",Ai.style.transition="opacity 1s.5s",Yi.style.transition="opacity.3s.3s",Gi.style.transition="opacity.3s.2s",Hi.style.transition="opacity.3s.1s",Ai.style.opacity=0,Hi.style.opacity=0,Gi.style.opacity=0,Yi.style.opacity=0,ee=!0,Xi=ie=1},Ei.style.cssText="position:absolute;inset:0;padding:10dvw;pointer-events:none;",Ai.style.clipPath="polygon(0 0, calc(20dvw + 400px) 0, calc(20dvw + 350px) 100%, 0 100%)",Yi.style.cssText="font-size:72px;opacity:0;",Yi.innerText="Tiny Yurts",Gi.style.cssText="margin-top:48px;font-size:24px;opacity:0",Gi.innerText="A game about ...",Ii.className="menu",Ii.innerText="Start",Ii.addEventListener("click",(()=>{re()})),Hi.style.opacity=0,Ki.append(Hi),Ki.style.cssText="display:grid;gap:16px;margin-top:48px",Hi.append(Ii),Ei.append(Yi,Gi,Ki),document.body.append(Ei),_i(ie,2500),Vi(si[0],!0);let ae=function({Ci:t=60,Ni:i=!0,update:s=e,m:a,context:n=o(),blur:l=!1}={}){let d,p,c,u,x,y=0,m=1e3/t,g=1/t,w=i?f:e,b=!0;function k(){if(p=requestAnimationFrame(k),b&&(c=performance.now(),u=c-d,d=c,1e3>=u)){for(r("tick"),y+=u;y>=m;)x.update(g),y-=m;w(x.context),x.m()}}return l||(window.addEventListener("focus",(()=>{b=!0})),window.addEventListener("blur",(()=>{b=!1}))),h("init",(()=>{x.context??(x.context=o())})),x={update:s,m:a,Wi:!0,context:n,start(){d=performance.now(),this.Wi=!1,requestAnimationFrame(k)},stop(){this.Wi=!0,cancelAnimationFrame(p)}},x}({blur:!0,update(){if(ee){if(_i(ie,ee),150==ie&&(Ct.style.opacity=1),100==ie&&(Wt.style.opacity=1),ie%8640==0&&99>ft.bt){Wt.style.scale=1.1,qt.innerText="+9",setTimeout((()=>qt.innerText=ft.bt),1300);for(let t=0;9>t;t++)setTimeout((()=>{99>ft.bt&&(ft.bt++,qt.innerText=ft.bt)}),1300+100*t);setTimeout((()=>{Wt.style.scale=1}),300)}switch(Ot.style.transform=`rotate(${ie/2}deg)`,Math.floor(ie/720%12)){case 0:Nt.innerText="Jan";break;case 1:Nt.innerText="Feb";break;case 2:Nt.innerText="Mar";break;case 3:Nt.innerText="Apr";break;case 4:Nt.innerText="May";break;case 5:Nt.innerText="Jun";break;case 6:Nt.innerText="Jul";break;case 7:Nt.innerText="Aug";break;case 8:Nt.innerText="Sep";break;case 9:Nt.innerText="Oct";break;case 10:Nt.innerText="Nov";break;case 11:Nt.innerText="Dec"}}switch(Xi++,ie++,Xi%4){case 0:break;case 1:ri.forEach((t=>t.update(ee)));break;case 2:li.forEach((t=>t.update(ee)));break;case 3:ui.forEach((t=>t.update(ee)))}60>Xi||(Xi=0),si.forEach((t=>{if(!t.u){ae.stop();let i=yt(t.x-13-3+t.width/2,t.y-7-2+t.height/2);j.style.transition="transform 2s ease-out .5s",j.style.transform=`rotate(-17deg)scale(2)translate(${-i.x}px,${-i.y}px)`,_t.style.opacity=0,Dt.style.opacity=0,zt.style.opacity=0,Ct.style.opacity=0,Wt.style.opacity=0,(()=>{Ai.style.clipPath="polygon(0 0,100% 0, 100% 100%, 0 100%)",Ai.style.transition="opacity 2s 1s",Pi.style.transition="opacity 1s 2s",zi.style.transition="opacity 1s 2s",Si.style.transition="opacity 1s 3s",Fi.style.transition="opacity 1s 3.2s",ji.style.transition="opacity 1s 3.6s",Qi.style.transition="opacity 1s 3.8s",Ni.style.transition="opacity 1s 5s",qi.style.transition="opacity 1s 5.2s",Fi.innerHTML="",Fi.append(Zi,""+ii.length),ji.innerHTML="",ji.append(Ui,""+oi.length),Qi.innerHTML="",Qi.append(Ri,""+pi.length);let t=q("u");t.innerText=2*Mt.length+" settlers";let i=q("u");i.innerText=Vt.length+" animals",Si.innerHTML="",Si.append(t," and ",i," lived in your camp."),Bi.innerHTML="",Bi.append(Fi," ",ji," ",Qi),Bt.style.opacity=0,setTimeout((()=>{Di.style.pointerEvents="",Di.style.opacity=1,Ai.style.opacity=1,Pi.style.opacity=1,zi.style.opacity=1,Si.style.opacity=1,Fi.style.opacity=1,ji.style.opacity=1,Qi.style.opacity=1,Ni.style.opacity=1,qi.style.opacity=1}))})()}})),bt.forEach((t=>t.update()))},m(){switch(te++,te%4){case 0:break;case 1:ri.forEach((t=>t.m()));break;case 2:li.forEach((t=>t.m()));break;case 3:ui.forEach((t=>t.m()))}60>te||(te=0),bt.forEach((t=>t.m()))}});!function(t,i,{qi:e="keydown",preventDefault:s=!0}={}){let h="keydown"==e?x:y;i.U=s,[].concat(t).map((t=>h[t]=i))}("space",(()=>{ae.Wi?(ae.start(),Ct.style.background=P):(ae.stop(),Ct.style.background=z)})),setTimeout((()=>{ae.start()}),1e3);
